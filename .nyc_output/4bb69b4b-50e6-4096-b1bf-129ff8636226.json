{"/Users/andela/Desktop/capstone-backend/src/app.js":{"path":"/Users/andela/Desktop/capstone-backend/src/app.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":22}},"3":{"start":{"line":10,"column":24},"end":{"line":10,"column":77}},"4":{"start":{"line":12,"column":20},"end":{"line":12,"column":68}},"5":{"start":{"line":14,"column":12},"end":{"line":14,"column":51}},"6":{"start":{"line":16,"column":14},"end":{"line":16,"column":55}},"7":{"start":{"line":18,"column":15},"end":{"line":18,"column":57}},"8":{"start":{"line":20,"column":11},"end":{"line":20,"column":57}},"9":{"start":{"line":22,"column":15},"end":{"line":22,"column":72}},"10":{"start":{"line":24,"column":12},"end":{"line":24,"column":66}},"11":{"start":{"line":26,"column":18},"end":{"line":26,"column":78}},"12":{"start":{"line":28,"column":14},"end":{"line":28,"column":70}},"13":{"start":{"line":30,"column":39},"end":{"line":30,"column":93}},"14":{"start":{"line":32,"column":15},"end":{"line":32,"column":38}},"15":{"start":{"line":33,"column":0},"end":{"line":38,"column":3}},"16":{"start":{"line":34,"column":2},"end":{"line":37,"column":5}},"17":{"start":{"line":39,"column":0},"end":{"line":39,"column":36}},"18":{"start":{"line":40,"column":0},"end":{"line":40,"column":45}},"19":{"start":{"line":41,"column":0},"end":{"line":41,"column":39}},"20":{"start":{"line":42,"column":0},"end":{"line":42,"column":52}},"21":{"start":{"line":43,"column":0},"end":{"line":43,"column":41}},"22":{"start":{"line":44,"column":0},"end":{"line":44,"column":33}},"23":{"start":{"line":45,"column":0},"end":{"line":45,"column":40}},"24":{"start":{"line":46,"column":0},"end":{"line":46,"column":91}},"25":{"start":{"line":47,"column":0},"end":{"line":49,"column":4}},"26":{"start":{"line":50,"column":0},"end":{"line":54,"column":3}},"27":{"start":{"line":51,"column":2},"end":{"line":53,"column":5}},"28":{"start":{"line":55,"column":15},"end":{"line":55,"column":21}},"29":{"start":{"line":56,"column":0},"end":{"line":56,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":30,"column":9},"end":{"line":30,"column":31}},"loc":{"start":{"line":30,"column":37},"end":{"line":30,"column":95}},"line":30},"1":{"name":"(anonymous_1)","decl":{"start":{"line":33,"column":16},"end":{"line":33,"column":17}},"loc":{"start":{"line":33,"column":30},"end":{"line":38,"column":1}},"line":33},"2":{"name":"(anonymous_2)","decl":{"start":{"line":50,"column":16},"end":{"line":50,"column":17}},"loc":{"start":{"line":50,"column":36},"end":{"line":54,"column":1}},"line":50}},"branchMap":{"0":{"loc":{"start":{"line":30,"column":46},"end":{"line":30,"column":92}},"type":"cond-expr","locations":[{"start":{"line":30,"column":70},"end":{"line":30,"column":73}},{"start":{"line":30,"column":76},"end":{"line":30,"column":92}}],"line":30},"1":{"loc":{"start":{"line":30,"column":46},"end":{"line":30,"column":67}},"type":"binary-expr","locations":[{"start":{"line":30,"column":46},"end":{"line":30,"column":49}},{"start":{"line":30,"column":53},"end":{"line":30,"column":67}}],"line":30}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":10,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":0,"28":1,"29":1},"f":{"0":10,"1":0,"2":0},"b":{"0":[4,6],"1":[10,10]},"inputSourceMap":{"version":3,"sources":["app.js"],"names":["server","get","req","res","status","json","success","message","use","express","messageRoutes","blogRoutes","subscriberRoutes","userRoutes","swaggerUI","serve","setup","swaggerDoc","explorer","next","error"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACA,MAAMA,MAAM,GAAG,uBAAf;AACAA,MAAM,CAACC,GAAP,CAAW,GAAX,EAAgB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC1BA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAE,IAAX;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAArB;AACH,CAFD;AAGAP,MAAM,CAACQ,GAAP,CAAWC,iBAAQJ,IAAR,EAAX;AACAL,MAAM,CAACQ,GAAP,CAAW,cAAX,EAA2BE,gBAA3B;AACAV,MAAM,CAACQ,GAAP,CAAW,WAAX,EAAwBG,aAAxB;AACAX,MAAM,CAACQ,GAAP,CAAW,kBAAX,EAA8BI,mBAA9B;AACAZ,MAAM,CAACQ,GAAP,CAAW,WAAX,EAAuBK,eAAvB;AACAb,MAAM,CAACQ,GAAP,CAAW,oBAAX;AACAR,MAAM,CAACQ,GAAP,CAAW,qBAAO,KAAP,CAAX;AACAR,MAAM,CAACQ,GAAP,CAAW,OAAX,EAAoBK,eAApB,EAAgCD,mBAAhC,EAAkDD,aAAlD,EAA8DD,gBAA9D;AACAV,MAAM,CAACQ,GAAP,CAAW,oBAAX,EAAiCM,0BAAUC,KAA3C,EAAkDD,0BAAUE,KAAV,CAAgBC,YAAhB,EAA4B;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAA5B,CAAlD;AACAlB,MAAM,CAACQ,GAAP,CAAW,GAAX,EAAgB,CAACN,GAAD,EAAMC,GAAN,EAAWgB,IAAX,KAAoB;AACnChB,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEe,IAAAA,KAAK,EAAE;AAAT,GAArB;AACA,CAFD;eAIepB,M","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/","sourcesContent":["import \"./database\";\nimport swaggerUI from 'swagger-ui-express';\nimport swaggerJsDoc from 'swagger-jsdoc';\nimport cors from 'cors';\nimport morgan from 'morgan';\nimport express from 'express';\nimport swaggerDoc from \"../doc.json\";\nimport messageRoutes from './routes/message.route';\nimport blogRoutes from './routes/blog.route';\nimport subscriberRoutes from './routes/subscriber.route';\nimport userRoutes from './routes/signup.route';\nconst server = express();\nserver.get('/', (req, res) => {\n    res.status(200).json({ success: true, message: \"You successfully landed on our Endpoint\" })\n});\nserver.use(express.json());\nserver.use('/api/message', messageRoutes);\nserver.use('/api/blog', blogRoutes);\nserver.use('/api/subscriber/',subscriberRoutes);\nserver.use('/api/user',userRoutes)\nserver.use(cors());\nserver.use(morgan(\"dev\"));\nserver.use(\"/api/\", userRoutes, subscriberRoutes, blogRoutes, messageRoutes);\nserver.use(\"/api-documentation\", swaggerUI.serve, swaggerUI.setup(swaggerDoc, { explorer: true }));\nserver.use(\"*\", (req, res, next) => {\n\tres.status(404).json({ error: \"NOT FOUND\", });\n});\n\nexport default server;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"16155cc645f9321463322ee7cf0771ae254658f0","contentHash":"26e799f37d859b014221be9f437b1c38dd303df9424787e9aadcbbbb3cbc7d0f"},"/Users/andela/Desktop/capstone-backend/src/database/index.js":{"path":"/Users/andela/Desktop/capstone-backend/src/database/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":3,"column":25}},"1":{"start":{"line":5,"column":16},"end":{"line":5,"column":59}},"2":{"start":{"line":7,"column":39},"end":{"line":7,"column":93}},"3":{"start":{"line":9,"column":20},"end":{"line":9,"column":40}},"4":{"start":{"line":11,"column":19},"end":{"line":11,"column":45}},"5":{"start":{"line":12,"column":20},"end":{"line":12,"column":45}},"6":{"start":{"line":13,"column":20},"end":{"line":13,"column":39}},"7":{"start":{"line":14,"column":22},"end":{"line":14,"column":107}},"8":{"start":{"line":16,"column":0},"end":{"line":23,"column":3}},"9":{"start":{"line":20,"column":2},"end":{"line":20,"column":55}},"10":{"start":{"line":22,"column":2},"end":{"line":22,"column":55}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":7,"column":9},"end":{"line":7,"column":31}},"loc":{"start":{"line":7,"column":37},"end":{"line":7,"column":95}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":19,"column":8},"end":{"line":19,"column":9}},"loc":{"start":{"line":19,"column":14},"end":{"line":21,"column":1}},"line":19},"2":{"name":"(anonymous_2)","decl":{"start":{"line":21,"column":9},"end":{"line":21,"column":10}},"loc":{"start":{"line":21,"column":14},"end":{"line":23,"column":1}},"line":21}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":46},"end":{"line":7,"column":92}},"type":"cond-expr","locations":[{"start":{"line":7,"column":70},"end":{"line":7,"column":73}},{"start":{"line":7,"column":76},"end":{"line":7,"column":92}}],"line":7},"1":{"loc":{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},"type":"binary-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":49}},{"start":{"line":7,"column":53},"end":{"line":7,"column":67}}],"line":7},"2":{"loc":{"start":{"line":14,"column":22},"end":{"line":14,"column":107}},"type":"cond-expr","locations":[{"start":{"line":14,"column":45},"end":{"line":14,"column":55}},{"start":{"line":14,"column":58},"end":{"line":14,"column":107}}],"line":14},"3":{"loc":{"start":{"line":14,"column":58},"end":{"line":14,"column":107}},"type":"cond-expr","locations":[{"start":{"line":14,"column":82},"end":{"line":14,"column":93}},{"start":{"line":14,"column":96},"end":{"line":14,"column":107}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0},"f":{"0":1,"1":1,"2":0},"b":{"0":[0,1],"1":[1,1],"2":[0,1],"3":[0,1]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["environment","process","env","NODE_ENV","dev_db_url","DEVELOPMENT_DB","prod_db_url","PRODUCTION_DB","test_db_url","TEST_DB","connectionUrl","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","e","message"],"mappings":";;AAAA;;AACA;;;;AACA,MAAMA,WAAW,GAAEC,OAAO,CAACC,GAAR,CAAYC,QAA/B,C,CACA;;AACA,MAAMC,UAAU,GAACH,OAAO,CAACC,GAAR,CAAYG,cAA7B;AACA,MAAMC,WAAW,GAACL,OAAO,CAACC,GAAR,CAAYK,aAA9B;AACA,MAAMC,WAAW,GAACP,OAAO,CAACC,GAAR,CAAYO,OAA9B;AAEA,MAAMC,aAAa,GAAEV,WAAW,IAAE,KAAd,GAAsBI,UAAtB,GAAkCJ,WAAW,IAAE,MAAd,GAAsBM,WAAtB,GAAkCE,WAAvF;;AAEAG,kBAASC,OAAT,CAAiBF,aAAjB,EAAgC;AAC5BG,EAAAA,eAAe,EAAE,IADW;AAE5BC,EAAAA,kBAAkB,EAAE;AAFQ,CAAhC,EAICC,IAJD,CAIM,MAAM;AACRC,EAAAA,OAAO,CAACC,GAAR,CAAY,uCAAZ;AACH,CAND,EAOCC,KAPD,CAOQC,CAAD,IAAO;AACVH,EAAAA,OAAO,CAACC,GAAR,CAAY,8BAA4BE,CAAC,CAACC,OAA1C;AACH,CATD","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/database/","sourcesContent":["import 'dotenv/config'\nimport mongoose from 'mongoose';\nconst environment =process.env.NODE_ENV;\n//database URL according to environment\nconst dev_db_url=process.env.DEVELOPMENT_DB;\nconst prod_db_url=process.env.PRODUCTION_DB;\nconst test_db_url=process.env.TEST_DB;\n\nconst connectionUrl=(environment=='dev')? dev_db_url:(environment=='prod')?prod_db_url:test_db_url;\n\nmongoose.connect(connectionUrl, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n})\n.then(() => {\n    console.log(\"App connected to Mongodb successfully\")\n})\n.catch((e) => {\n    console.log(\"Mongodb connection error \"+e.message);\n})"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2c1df6d885555fd5d4eb49f78c456bf167491041","contentHash":"cd0223c3a12ea4cc1e569515d8f666f8fda885d200d8842e52457f577c329c91"},"/Users/andela/Desktop/capstone-backend/src/routes/message.route.js":{"path":"/Users/andela/Desktop/capstone-backend/src/routes/message.route.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":17},"end":{"line":10,"column":52}},"4":{"start":{"line":12,"column":15},"end":{"line":12,"column":58}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":16,"column":15},"end":{"line":16,"column":40}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":39}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":67}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":73}},"10":{"start":{"line":21,"column":15},"end":{"line":21,"column":21}},"11":{"start":{"line":22,"column":0},"end":{"line":22,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["message.route.js"],"names":["router","express","Router","post","saveMessage","get","checkAdminAuth","getAllMessage","delete","deleteMessage"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AACAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiBC,oBAAjB;AACAJ,MAAM,CAACK,GAAP,CAAW,GAAX,EAAgBC,yBAAhB,EAAgCC,sBAAhC;AACAP,MAAM,CAACQ,MAAP,CAAc,MAAd,EAAsBF,yBAAtB,EAAsCG,sBAAtC;eAEeT,M","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/routes/","sourcesContent":["import express from 'express';\nimport { checkAdminAuth, checkAuth } from '../middleware/check-user';\nimport {saveMessage,getAllMessage, updateMessage,deleteMessage} from '../controllers/message.contoller'\nconst router = express.Router();\nrouter.post('/', saveMessage);\nrouter.get('/', checkAdminAuth, getAllMessage);\nrouter.delete('/:id', checkAdminAuth, deleteMessage);\n\nexport default router;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bc5f14107cbad7d580c131dfa520660cf224264b","contentHash":"9dedb20c0739caa087d42201f4d8b725fa5e23521b99d5cd4135262c38b7e5cc"},"/Users/andela/Desktop/capstone-backend/src/middleware/check-user.js":{"path":"/Users/andela/Desktop/capstone-backend/src/middleware/check-user.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":52}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":36}},"3":{"start":{"line":10,"column":18},"end":{"line":27,"column":1}},"4":{"start":{"line":11,"column":22},"end":{"line":11,"column":47}},"5":{"start":{"line":13,"column":2},"end":{"line":21,"column":3}},"6":{"start":{"line":14,"column":18},"end":{"line":14,"column":43}},"7":{"start":{"line":15,"column":20},"end":{"line":15,"column":48}},"8":{"start":{"line":16,"column":4},"end":{"line":16,"column":31}},"9":{"start":{"line":16,"column":17},"end":{"line":16,"column":31}},"10":{"start":{"line":17,"column":4},"end":{"line":20,"column":7}},"11":{"start":{"line":23,"column":2},"end":{"line":26,"column":5}},"12":{"start":{"line":29,"column":0},"end":{"line":29,"column":30}},"13":{"start":{"line":31,"column":23},"end":{"line":56,"column":1}},"14":{"start":{"line":32,"column":22},"end":{"line":32,"column":47}},"15":{"start":{"line":34,"column":2},"end":{"line":50,"column":3}},"16":{"start":{"line":35,"column":18},"end":{"line":35,"column":43}},"17":{"start":{"line":36,"column":20},"end":{"line":36,"column":48}},"18":{"start":{"line":38,"column":4},"end":{"line":44,"column":5}},"19":{"start":{"line":39,"column":6},"end":{"line":39,"column":50}},"20":{"start":{"line":39,"column":36},"end":{"line":39,"column":50}},"21":{"start":{"line":40,"column":6},"end":{"line":43,"column":9}},"22":{"start":{"line":46,"column":4},"end":{"line":49,"column":7}},"23":{"start":{"line":52,"column":2},"end":{"line":55,"column":5}},"24":{"start":{"line":58,"column":0},"end":{"line":58,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":18},"end":{"line":10,"column":19}},"loc":{"start":{"line":10,"column":38},"end":{"line":27,"column":1}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":31,"column":23},"end":{"line":31,"column":24}},"loc":{"start":{"line":31,"column":43},"end":{"line":56,"column":1}},"line":31}},"branchMap":{"0":{"loc":{"start":{"line":13,"column":2},"end":{"line":21,"column":3}},"type":"if","locations":[{"start":{"line":13,"column":2},"end":{"line":21,"column":3}},{"start":{"line":13,"column":2},"end":{"line":21,"column":3}}],"line":13},"1":{"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":31}},"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":16,"column":31}},{"start":{"line":16,"column":4},"end":{"line":16,"column":31}}],"line":16},"2":{"loc":{"start":{"line":34,"column":2},"end":{"line":50,"column":3}},"type":"if","locations":[{"start":{"line":34,"column":2},"end":{"line":50,"column":3}},{"start":{"line":34,"column":2},"end":{"line":50,"column":3}}],"line":34},"3":{"loc":{"start":{"line":38,"column":4},"end":{"line":44,"column":5}},"type":"if","locations":[{"start":{"line":38,"column":4},"end":{"line":44,"column":5}},{"start":{"line":38,"column":4},"end":{"line":44,"column":5}}],"line":38},"4":{"loc":{"start":{"line":39,"column":6},"end":{"line":39,"column":50}},"type":"if","locations":[{"start":{"line":39,"column":6},"end":{"line":39,"column":50}},{"start":{"line":39,"column":6},"end":{"line":39,"column":50}}],"line":39}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":5,"15":5,"16":5,"17":5,"18":5,"19":5,"20":5,"21":0,"22":0,"23":0,"24":1},"f":{"0":0,"1":5},"b":{"0":[0,0],"1":[0,0],"2":[5,0],"3":[5,0],"4":[5,0]},"inputSourceMap":{"version":3,"sources":["check-user.js"],"names":["checkAuth","req","res","next","bearerToken","headers","authorization","token","split","payload","status","json","message","checkAdminAuth","role"],"mappings":";;;;;;;AACA;;AACO,MAAMA,SAAS,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC5C,QAAMC,WAAW,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAAhC;;AACA,MAAIF,WAAJ,EAAiB;AAChB,UAAMG,KAAK,GAAGH,WAAW,CAACI,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAd;AACA,UAAMC,OAAO,GAAG,sBAAYF,KAAZ,CAAhB;AACA,QAAIE,OAAJ,EAAa,OAAON,IAAI,EAAX;AACb,WAAOD,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,MAAAA,MAAM,EAAE,MAAV;AAAkBE,MAAAA,OAAO,EAAE;AAA3B,KAArB,CAAP;AACA;;AACD,SAAOV,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,MAAV;AAAkBE,IAAAA,OAAO,EAAE;AAA3B,GAArB,CAAP;AACA,CATM;;;;AAUA,MAAMC,cAAc,GAAG,CAACZ,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACjD,QAAMC,WAAW,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAAhC;;AACA,MAAIF,WAAJ,EAAiB;AAChB,UAAMG,KAAK,GAAGH,WAAW,CAACI,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAd;AACA,UAAMC,OAAO,GAAG,sBAAYF,KAAZ,CAAhB;;AAEA,QAAIE,OAAJ,EAAa;AACZ,UAAIA,OAAO,EAAEK,IAAT,IAAiB,OAArB,EAA8B,OAAOX,IAAI,EAAX;AAC9B,aAAOD,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,QAAAA,MAAM,EAAE,MAAV;AAAkBE,QAAAA,OAAO,EAAE;AAA3B,OAArB,CAAP;AACA;;AACD,WAAOV,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,MAAAA,MAAM,EAAE,MAAV;AAAkBE,MAAAA,OAAO,EAAE;AAA3B,KAArB,CAAP;AACA;;AACD,SAAOV,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,MAAV;AAAkBE,IAAAA,OAAO,EAAE;AAA3B,GAArB,CAAP;AACA,CAbM","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/middleware/","sourcesContent":["   \nimport { decodeToken } from \"../helpers/jwt\";\nexport const checkAuth = (req, res, next) => {\n\tconst bearerToken = req.headers.authorization;\n\tif (bearerToken) {\n\t\tconst token = bearerToken.split(\" \")[1];\n\t\tconst payload = decodeToken(token);\n\t\tif (payload) return next();\n\t\treturn res.status(401).json({ status: \"fail\", message: \"Not Authorized\" });\n\t}\n\treturn res.status(401).json({ status: \"fail\", message: \"Not Authorized , please login\" });\n};\nexport const checkAdminAuth = (req, res, next) => {\n\tconst bearerToken = req.headers.authorization;\n\tif (bearerToken) {\n\t\tconst token = bearerToken.split(\" \")[1];\n\t\tconst payload = decodeToken(token);\n        \n\t\tif (payload) {\n\t\t\tif (payload?.role == \"admin\") return next();\n\t\t\treturn res.status(401).json({ status: \"fail\", message: \"You don't have permission to perform this action\", });\n\t\t}\n\t\treturn res.status(401).json({ status: \"fail\", message: \"Not Authorized\" });\n\t}\n\treturn res.status(401).json({ status: \"fail\", message: \"Not Authorized , please login\" });\n};"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0d71daeada24fda0eccd62b316b83c207349903b","contentHash":"da18a1e32e9dbd0c65e0cffe1839d5f79fa48cbde0b1e57df7af75bbceb58f4a"},"/Users/andela/Desktop/capstone-backend/src/helpers/jwt.js":{"path":"/Users/andela/Desktop/capstone-backend/src/helpers/jwt.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":49}},"2":{"start":{"line":8,"column":20},"end":{"line":8,"column":67}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":14,"column":18},"end":{"line":16,"column":1}},"6":{"start":{"line":15,"column":2},"end":{"line":15,"column":65}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":30}},"8":{"start":{"line":20,"column":20},"end":{"line":22,"column":1}},"9":{"start":{"line":21,"column":2},"end":{"line":21,"column":68}},"10":{"start":{"line":24,"column":0},"end":{"line":24,"column":34}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":18},"end":{"line":14,"column":19}},"loc":{"start":{"line":14,"column":26},"end":{"line":16,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":20,"column":20},"end":{"line":20,"column":21}},"loc":{"start":{"line":20,"column":29},"end":{"line":22,"column":1}},"line":20}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":3,"7":1,"8":1,"9":5,"10":1},"f":{"0":1,"1":3,"2":5},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["jwt.js"],"names":["signToken","user","jwt","sign","process","env","TOKEN_KEY","decodeToken","token","decode"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEO,MAAMA,SAAS,GAAEC,IAAD,IAAQ;AAC3B,SAAOC,sBAAIC,IAAJ,CAASF,IAAT,EAAcG,OAAO,CAACC,GAAR,CAAYC,SAA1B,CAAP;AACH,CAFM;;;;AAGA,MAAMC,WAAW,GAAEC,KAAD,IAAS;AAC9B,SAAON,sBAAIO,MAAJ,CAAWD,KAAX,EAAiBJ,OAAO,CAACC,GAAR,CAAYC,SAA7B,CAAP;AACH,CAFM","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/helpers/","sourcesContent":["import jwt from 'jsonwebtoken';\nimport 'dotenv/config';\n\nexport const signToken=(user)=>{\n    return jwt.sign(user,process.env.TOKEN_KEY);\n}\nexport const decodeToken=(token)=>{\n    return jwt.decode(token,process.env.TOKEN_KEY);\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"81045791cf4e8661e3421033fdb8ae6452a0782c","contentHash":"70f377ac16edd2276fa57a370d8adae3cc1f173af628296d04cf0970b94f63b9"},"/Users/andela/Desktop/capstone-backend/src/controllers/message.contoller.js":{"path":"/Users/andela/Desktop/capstone-backend/src/controllers/message.contoller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":77}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":75}},"3":{"start":{"line":10,"column":18},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":14,"column":20},"end":{"line":32,"column":1}},"6":{"start":{"line":17,"column":6},"end":{"line":17,"column":49}},"7":{"start":{"line":19,"column":2},"end":{"line":23,"column":3}},"8":{"start":{"line":20,"column":4},"end":{"line":22,"column":7}},"9":{"start":{"line":25,"column":18},"end":{"line":25,"column":26}},"10":{"start":{"line":26,"column":21},"end":{"line":26,"column":50}},"11":{"start":{"line":27,"column":2},"end":{"line":27,"column":26}},"12":{"start":{"line":28,"column":2},"end":{"line":31,"column":5}},"13":{"start":{"line":34,"column":0},"end":{"line":34,"column":34}},"14":{"start":{"line":36,"column":22},"end":{"line":42,"column":1}},"15":{"start":{"line":37,"column":19},"end":{"line":37,"column":48}},"16":{"start":{"line":38,"column":2},"end":{"line":41,"column":5}},"17":{"start":{"line":44,"column":0},"end":{"line":44,"column":38}},"18":{"start":{"line":46,"column":22},"end":{"line":61,"column":1}},"19":{"start":{"line":47,"column":2},"end":{"line":60,"column":3}},"20":{"start":{"line":48,"column":4},"end":{"line":50,"column":7}},"21":{"start":{"line":51,"column":4},"end":{"line":54,"column":7}},"22":{"start":{"line":56,"column":4},"end":{"line":56,"column":20}},"23":{"start":{"line":57,"column":4},"end":{"line":59,"column":7}},"24":{"start":{"line":63,"column":0},"end":{"line":63,"column":38}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":20},"end":{"line":14,"column":21}},"loc":{"start":{"line":14,"column":40},"end":{"line":32,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":36,"column":22},"end":{"line":36,"column":23}},"loc":{"start":{"line":36,"column":42},"end":{"line":42,"column":1}},"line":36},"3":{"name":"(anonymous_3)","decl":{"start":{"line":46,"column":22},"end":{"line":46,"column":23}},"loc":{"start":{"line":46,"column":42},"end":{"line":61,"column":1}},"line":46}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":19,"column":2},"end":{"line":23,"column":3}},"type":"if","locations":[{"start":{"line":19,"column":2},"end":{"line":23,"column":3}},{"start":{"line":19,"column":2},"end":{"line":23,"column":3}}],"line":19}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1},"f":{"0":1,"1":1,"2":1,"3":0},"b":{"0":[1,0],"1":[1,1],"2":[0,1]},"inputSourceMap":{"version":3,"sources":["message.contoller.js"],"names":["saveMessage","req","res","error","body","status","json","message","details","newMessage","Message","save","success","data","getAllMessage","messages","find","deleteMessage","deleteOne","_id","params","id","send"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEO,MAAMA,WAAW,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC9C,QAAM;AAAEC,IAAAA;AAAF,MAAU,kCAAiBF,GAAG,CAACG,IAArB,CAAhB;;AACA,MAAGD,KAAH,EAAS;AACR,WAAOD,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAACJ,KAAK,CAACK,OAAN,CAAc,CAAd,EAAiBD;AAA1B,KAArB,CAAP;AACA;;AACE,QAAMA,OAAO,GAAGN,GAAG,CAACG,IAApB;AACA,QAAMK,UAAU,GAAG,IAAIC,gBAAJ,CAAYH,OAAZ,CAAnB;AACA,QAAME,UAAU,CAACE,IAAX,EAAN;AACAT,EAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACM,IAAAA,OAAO,EAAE,IAAV;AAAgBC,IAAAA,IAAI,EAAEJ;AAAtB,GAArB;AACH,CATM;;;;AAWA,MAAMK,aAAa,GAAG,OAAOb,GAAP,EAAYC,GAAZ,KAAoB;AAC7C,QAAMa,QAAQ,GAAE,MAAML,iBAAQM,IAAR,EAAtB;AACAd,EAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACM,IAAAA,OAAO,EAAE,IAAV;AAAgBC,IAAAA,IAAI,EAAEE;AAAtB,GAArB;AACH,CAHM;;;;AAMA,MAAME,aAAa,GAAC,OAAOhB,GAAP,EAAYC,GAAZ,KAAoB;AAC9C,MAAI;AACH,UAAMQ,iBAAQQ,SAAR,CAAkB;AAAEC,MAAAA,GAAG,EAAElB,GAAG,CAACmB,MAAJ,CAAWC;AAAlB,KAAlB,CAAN;AACAnB,IAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACM,MAAAA,OAAO,EAAE,IAAV;AAAgBC,MAAAA,IAAI,EAAE;AAAtB,KAArB;AACA,GAHD,CAGE,MAAM;AACPX,IAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX;AACAH,IAAAA,GAAG,CAACoB,IAAJ,CAAS;AAAEnB,MAAAA,KAAK,EAAE;AAAT,KAAT;AACA;AACD,CARM","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/controllers/","sourcesContent":["import Message from \"../database/model/message\";\nimport { querryValidation } from \"../helpers/validation.schema\";\n\nexport const saveMessage = async (req, res) => {\n\tconst { error} =querryValidation(req.body);\n\tif(error){\n\t\treturn res.status(400).json({message:error.details[0].message});\n\t}\n    const message = req.body;\n    const newMessage = new Message(message);\n    await newMessage.save();\n    res.status(201).json({success: true, data: newMessage});\n}\n\nexport const getAllMessage = async (req, res) => {\n    const messages= await Message.find();\n    res.status(200).json({success: true, data: messages})\n}\n\n\nexport const deleteMessage=async (req, res) => {\n\ttry {\n\t\tawait Message.deleteOne({ _id: req.params.id })\n\t\tres.status(202).json({success: true, data: null})\n\t} catch {\n\t\tres.status(404)\n\t\tres.send({ error: \"Message doesn't exist!\" })\n\t}\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d8847870ab91ba484e2da179e045b87aee79fea8","contentHash":"f8669e238c94d493172d271f21c5e6f68b19df390eae92b7316f8b63841966d0"},"/Users/andela/Desktop/capstone-backend/src/database/model/message.js":{"path":"/Users/andela/Desktop/capstone-backend/src/database/model/message.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":22},"end":{"line":16,"column":2}},"5":{"start":{"line":18,"column":16},"end":{"line":18,"column":65}},"6":{"start":{"line":20,"column":15},"end":{"line":20,"column":22}},"7":{"start":{"line":21,"column":0},"end":{"line":21,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["message.js"],"names":["messageSchema","mongoose","Schema","Name","String","Email","message","Message","model"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,aAAa,GAAE,IAAIC,kBAASC,MAAb,CAAoB;AACzCC,EAAAA,IAAI,EAAEC,MADmC;AAEzCC,EAAAA,KAAK,EAAED,MAFkC;AAGzCE,EAAAA,OAAO,EAACF;AAHiC,CAApB,CAArB;;AAMA,MAAMG,OAAO,GAAEN,kBAASO,KAAT,CAAe,SAAf,EAA0BR,aAA1B,CAAf;;eACeO,O","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/database/model/","sourcesContent":["import mongoose from \"mongoose\";\n\nconst messageSchema= new mongoose.Schema({\nName: String,\nEmail: String,\nmessage:String,\n});\n\nconst Message =mongoose.model('Message', messageSchema);\nexport default Message;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6c68b25d470e14a727a44350e1cdb6a2c100fde8","contentHash":"95f5af666a66849e7f31a5476e3377b5f0e890607f8539877e84f0b7d1cf2207"},"/Users/andela/Desktop/capstone-backend/src/helpers/validation.schema.js":{"path":"/Users/andela/Desktop/capstone-backend/src/helpers/validation.schema.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":91}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":50}},"3":{"start":{"line":10,"column":49},"end":{"line":10,"column":96}},"4":{"start":{"line":10,"column":84},"end":{"line":10,"column":96}},"5":{"start":{"line":10,"column":121},"end":{"line":10,"column":134}},"6":{"start":{"line":10,"column":159},"end":{"line":10,"column":172}},"7":{"start":{"line":10,"column":174},"end":{"line":10,"column":309}},"8":{"start":{"line":10,"column":234},"end":{"line":10,"column":292}},"9":{"start":{"line":12,"column":53},"end":{"line":12,"column":111}},"10":{"start":{"line":12,"column":98},"end":{"line":12,"column":109}},"11":{"start":{"line":12,"column":112},"end":{"line":12,"column":214}},"12":{"start":{"line":12,"column":188},"end":{"line":12,"column":212}},"13":{"start":{"line":12,"column":227},"end":{"line":12,"column":264}},"14":{"start":{"line":12,"column":266},"end":{"line":12,"column":321}},"15":{"start":{"line":12,"column":297},"end":{"line":12,"column":319}},"16":{"start":{"line":12,"column":335},"end":{"line":12,"column":337}},"17":{"start":{"line":12,"column":367},"end":{"line":12,"column":423}},"18":{"start":{"line":12,"column":425},"end":{"line":12,"column":726}},"19":{"start":{"line":12,"column":448},"end":{"line":12,"column":724}},"20":{"start":{"line":12,"column":534},"end":{"line":12,"column":606}},"21":{"start":{"line":12,"column":608},"end":{"line":12,"column":722}},"22":{"start":{"line":12,"column":646},"end":{"line":12,"column":687}},"23":{"start":{"line":12,"column":697},"end":{"line":12,"column":720}},"24":{"start":{"line":12,"column":727},"end":{"line":12,"column":748}},"25":{"start":{"line":12,"column":749},"end":{"line":12,"column":787}},"26":{"start":{"line":12,"column":762},"end":{"line":12,"column":785}},"27":{"start":{"line":12,"column":788},"end":{"line":12,"column":802}},"28":{"start":{"line":14,"column":30},"end":{"line":20,"column":1}},"29":{"start":{"line":15,"column":17},"end":{"line":17,"column":4}},"30":{"start":{"line":19,"column":2},"end":{"line":19,"column":38}},"31":{"start":{"line":22,"column":0},"end":{"line":22,"column":54}},"32":{"start":{"line":24,"column":25},"end":{"line":32,"column":1}},"33":{"start":{"line":25,"column":17},"end":{"line":29,"column":4}},"34":{"start":{"line":31,"column":2},"end":{"line":31,"column":33}},"35":{"start":{"line":34,"column":0},"end":{"line":34,"column":44}},"36":{"start":{"line":36,"column":23},"end":{"line":45,"column":1}},"37":{"start":{"line":37,"column":17},"end":{"line":42,"column":4}},"38":{"start":{"line":44,"column":2},"end":{"line":44,"column":31}},"39":{"start":{"line":47,"column":0},"end":{"line":47,"column":40}}},"fnMap":{"0":{"name":"_getRequireWildcardCache","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":33}},"loc":{"start":{"line":10,"column":47},"end":{"line":10,"column":311}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":209},"end":{"line":10,"column":210}},"loc":{"start":{"line":10,"column":232},"end":{"line":10,"column":294}},"line":10},"2":{"name":"_interopRequireWildcard","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":32}},"loc":{"start":{"line":12,"column":51},"end":{"line":12,"column":804}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":14,"column":30},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":45},"end":{"line":20,"column":1}},"line":14},"4":{"name":"(anonymous_4)","decl":{"start":{"line":24,"column":25},"end":{"line":24,"column":26}},"loc":{"start":{"line":24,"column":35},"end":{"line":32,"column":1}},"line":24},"5":{"name":"(anonymous_5)","decl":{"start":{"line":36,"column":23},"end":{"line":36,"column":24}},"loc":{"start":{"line":36,"column":31},"end":{"line":45,"column":1}},"line":36}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":49},"end":{"line":10,"column":96}},"type":"if","locations":[{"start":{"line":10,"column":49},"end":{"line":10,"column":96}},{"start":{"line":10,"column":49},"end":{"line":10,"column":96}}],"line":10},"1":{"loc":{"start":{"line":10,"column":241},"end":{"line":10,"column":291}},"type":"cond-expr","locations":[{"start":{"line":10,"column":255},"end":{"line":10,"column":271}},{"start":{"line":10,"column":274},"end":{"line":10,"column":291}}],"line":10},"2":{"loc":{"start":{"line":12,"column":53},"end":{"line":12,"column":111}},"type":"if","locations":[{"start":{"line":12,"column":53},"end":{"line":12,"column":111}},{"start":{"line":12,"column":53},"end":{"line":12,"column":111}}],"line":12},"3":{"loc":{"start":{"line":12,"column":57},"end":{"line":12,"column":94}},"type":"binary-expr","locations":[{"start":{"line":12,"column":57},"end":{"line":12,"column":69}},{"start":{"line":12,"column":73},"end":{"line":12,"column":76}},{"start":{"line":12,"column":80},"end":{"line":12,"column":94}}],"line":12},"4":{"loc":{"start":{"line":12,"column":112},"end":{"line":12,"column":214}},"type":"if","locations":[{"start":{"line":12,"column":112},"end":{"line":12,"column":214}},{"start":{"line":12,"column":112},"end":{"line":12,"column":214}}],"line":12},"5":{"loc":{"start":{"line":12,"column":116},"end":{"line":12,"column":184}},"type":"binary-expr","locations":[{"start":{"line":12,"column":116},"end":{"line":12,"column":128}},{"start":{"line":12,"column":132},"end":{"line":12,"column":155}},{"start":{"line":12,"column":159},"end":{"line":12,"column":184}}],"line":12},"6":{"loc":{"start":{"line":12,"column":266},"end":{"line":12,"column":321}},"type":"if","locations":[{"start":{"line":12,"column":266},"end":{"line":12,"column":321}},{"start":{"line":12,"column":266},"end":{"line":12,"column":321}}],"line":12},"7":{"loc":{"start":{"line":12,"column":270},"end":{"line":12,"column":293}},"type":"binary-expr","locations":[{"start":{"line":12,"column":270},"end":{"line":12,"column":275}},{"start":{"line":12,"column":279},"end":{"line":12,"column":293}}],"line":12},"8":{"loc":{"start":{"line":12,"column":367},"end":{"line":12,"column":423}},"type":"binary-expr","locations":[{"start":{"line":12,"column":367},"end":{"line":12,"column":388}},{"start":{"line":12,"column":392},"end":{"line":12,"column":423}}],"line":12},"9":{"loc":{"start":{"line":12,"column":448},"end":{"line":12,"column":724}},"type":"if","locations":[{"start":{"line":12,"column":448},"end":{"line":12,"column":724}},{"start":{"line":12,"column":448},"end":{"line":12,"column":724}}],"line":12},"10":{"loc":{"start":{"line":12,"column":452},"end":{"line":12,"column":519}},"type":"binary-expr","locations":[{"start":{"line":12,"column":452},"end":{"line":12,"column":469}},{"start":{"line":12,"column":473},"end":{"line":12,"column":519}}],"line":12},"11":{"loc":{"start":{"line":12,"column":534},"end":{"line":12,"column":606}},"type":"cond-expr","locations":[{"start":{"line":12,"column":558},"end":{"line":12,"column":599}},{"start":{"line":12,"column":602},"end":{"line":12,"column":606}}],"line":12},"12":{"loc":{"start":{"line":12,"column":608},"end":{"line":12,"column":722}},"type":"if","locations":[{"start":{"line":12,"column":608},"end":{"line":12,"column":722}},{"start":{"line":12,"column":608},"end":{"line":12,"column":722}}],"line":12},"13":{"loc":{"start":{"line":12,"column":612},"end":{"line":12,"column":642}},"type":"binary-expr","locations":[{"start":{"line":12,"column":612},"end":{"line":12,"column":616}},{"start":{"line":12,"column":621},"end":{"line":12,"column":629}},{"start":{"line":12,"column":633},"end":{"line":12,"column":641}}],"line":12},"14":{"loc":{"start":{"line":12,"column":749},"end":{"line":12,"column":787}},"type":"if","locations":[{"start":{"line":12,"column":749},"end":{"line":12,"column":787}},{"start":{"line":12,"column":749},"end":{"line":12,"column":787}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":1,"12":0,"13":1,"14":1,"15":0,"16":1,"17":1,"18":1,"19":55,"20":55,"21":55,"22":0,"23":55,"24":1,"25":1,"26":1,"27":1,"28":1,"29":3,"30":3,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1},"f":{"0":1,"1":1,"2":1,"3":3,"4":1,"5":1},"b":{"0":[0,1],"1":[0,1],"2":[0,1],"3":[1,1,1],"4":[0,1],"5":[1,1,0],"6":[0,1],"7":[1,1],"8":[1,1],"9":[55,0],"10":[55,55],"11":[55,0],"12":[0,55],"13":[55,55,55],"14":[1,0]},"inputSourceMap":{"version":3,"sources":["validation.schema.js"],"names":["subscribersValidation","subscriber1","schema","Joi","object","Email","string","min","required","email","validate","querryValidation","querry","Name","message","blogValidation","blog","title","author","description","photo"],"mappings":";;;;;;;AAAA;;;;;;AAEO,MAAMA,qBAAqB,GAAEC,WAAD,IAAe;AAC9C,QAAMC,MAAM,GAACC,aAAIC,MAAJ,CAAW;AACpBC,IAAAA,KAAK,EAACF,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,GAA+BC,KAA/B;AADc,GAAX,CAAb;;AAGA,SAAOP,MAAM,CAACQ,QAAP,CAAgBT,WAAhB,CAAP;AACH,CALM;;;;AAQA,MAAMU,gBAAgB,GAAEC,MAAD,IAAU;AACpC,QAAMV,MAAM,GAACC,aAAIC,MAAJ,CAAW;AAChBS,IAAAA,IAAI,EAACV,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,CADW;AAEhBF,IAAAA,KAAK,EAACF,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,GAA+BC,KAA/B,EAFU;AAGhBK,IAAAA,OAAO,EAACX,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,EAAjB;AAHQ,GAAX,CAAb;;AAKI,SAAOL,MAAM,CAACQ,QAAP,CAAgBE,MAAhB,CAAP;AACP,CAPM;;;;AASA,MAAMG,cAAc,GAAEC,IAAD,IAAQ;AAChC,QAAMd,MAAM,GAACC,aAAIC,MAAJ,CAAW;AACpBa,IAAAA,KAAK,EAACd,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,EADc;AAEpBU,IAAAA,MAAM,EAACf,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,EAFa;AAGpBW,IAAAA,WAAW,EAAChB,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,EAHQ;AAIpBY,IAAAA,KAAK,EAACjB,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB;AAJc,GAAX,CAAb;;AAOA,SAAOL,MAAM,CAACQ,QAAP,CAAgBM,IAAhB,CAAP;AACH,CATM","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/helpers/","sourcesContent":["import Joi, { string } from \"joi\";\n\nexport const subscribersValidation=(subscriber1)=>{\n    const schema=Joi.object({\n        Email:Joi.string().min(2).required().email(),\n    });\n    return schema.validate(subscriber1);\n}\n\n\nexport const querryValidation=(querry)=>{\n    const schema=Joi.object({\n            Name:Joi.string().min(2),\n            Email:Joi.string().min(2).required().email(),\n            message:Joi.string().min(10),\n        });\n        return schema.validate(querry);\n}\n\nexport const blogValidation=(blog)=>{\n    const schema=Joi.object({\n        title:Joi.string().min(6).required(),\n        author:Joi.string().min(6).required(),\n        description:Joi.string().min(6).required(),\n        photo:Joi.string().min(3),\n\n    });\n    return schema.validate(blog);\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"26e4e7c26a7848631084f2c36af1f9d35190f700","contentHash":"84a9c1b19c94e239b84d4428a4fcd2dade18f02f4553f36e0fbc0cb775555e9c"},"/Users/andela/Desktop/capstone-backend/src/routes/blog.route.js":{"path":"/Users/andela/Desktop/capstone-backend/src/routes/blog.route.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":55}},"4":{"start":{"line":12,"column":12},"end":{"line":12,"column":53}},"5":{"start":{"line":14,"column":17},"end":{"line":14,"column":52}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":93}},"7":{"start":{"line":18,"column":15},"end":{"line":18,"column":40}},"8":{"start":{"line":20,"column":16},"end":{"line":20,"column":47}},"9":{"start":{"line":22,"column":19},"end":{"line":28,"column":1}},"10":{"start":{"line":23,"column":2},"end":{"line":27,"column":3}},"11":{"start":{"line":24,"column":4},"end":{"line":24,"column":19}},"12":{"start":{"line":26,"column":4},"end":{"line":26,"column":37}},"13":{"start":{"line":30,"column":16},"end":{"line":33,"column":2}},"14":{"start":{"line":34,"column":0},"end":{"line":34,"column":89}},"15":{"start":{"line":35,"column":0},"end":{"line":35,"column":37}},"16":{"start":{"line":36,"column":0},"end":{"line":36,"column":89}},"17":{"start":{"line":37,"column":0},"end":{"line":37,"column":74}},"18":{"start":{"line":38,"column":0},"end":{"line":38,"column":70}},"19":{"start":{"line":39,"column":0},"end":{"line":39,"column":68}},"20":{"start":{"line":40,"column":15},"end":{"line":40,"column":21}},"21":{"start":{"line":41,"column":0},"end":{"line":41,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":95}},"line":16},"1":{"name":"(anonymous_1)","decl":{"start":{"line":22,"column":19},"end":{"line":22,"column":20}},"loc":{"start":{"line":22,"column":38},"end":{"line":28,"column":1}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":92}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":92}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16},"2":{"loc":{"start":{"line":23,"column":2},"end":{"line":27,"column":3}},"type":"if","locations":[{"start":{"line":23,"column":2},"end":{"line":27,"column":3}},{"start":{"line":23,"column":2},"end":{"line":27,"column":3}}],"line":23}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1},"f":{"0":2,"1":0},"b":{"0":[0,2],"1":[2,2],"2":[0,0]},"inputSourceMap":{"version":3,"sources":["blog.route.js"],"names":["router","express","Router","storage","multer","diskStorage","fileFilter","req","file","cb","mimetype","startsWith","uploads","post","checkAdminAuth","single","saveBlog","get","getAllBlog","put","updateBlog","delete","deleteBlog","checkAuth","commentonBlog","getAllComment"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;;;AADA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEA,MAAMC,OAAO,GAACC,gBAAOC,WAAP,CAAmB,EAAnB,CAAd;;AACA,MAAMC,UAAU,GAAC,CAACC,GAAD,EAAKC,IAAL,EAAUC,EAAV,KAAe;AAC5B,MAAGD,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAyB,OAAzB,CAAH,EACA;AACJF,IAAAA,EAAE,CAAC,IAAD,EAAM,IAAN,CAAF;AACK,GAHD,MAII;AACAA,IAAAA,EAAE,CAAC,qBAAD,EAAuB,KAAvB,CAAF;AACH;AACJ,CARD;;AASA,MAAMG,OAAO,GAAC,qBAAO;AAACT,EAAAA,OAAD;AAASG,EAAAA;AAAT,CAAP,CAAd;AACAN,MAAM,CAACa,IAAP,CAAY,OAAZ,EAAoBC,yBAApB,EAAoCF,OAAO,CAACG,MAAR,CAAe,OAAf,CAApC,EAA6DC,cAA7D;AACAhB,MAAM,CAACiB,GAAP,CAAW,MAAX,EAAmBC,gBAAnB;AACAlB,MAAM,CAACmB,GAAP,CAAW,MAAX,EAAkBL,yBAAlB,EAAkCF,OAAO,CAACG,MAAR,CAAe,OAAf,CAAlC,EAA2DK,gBAA3D;AACApB,MAAM,CAACqB,MAAP,CAAc,aAAd,EAA6BP,yBAA7B,EAA6CQ,gBAA7C;AACAtB,MAAM,CAACmB,GAAP,CAAW,cAAX,EAA0BI,oBAA1B,EAAqCC,mBAArC;AACAxB,MAAM,CAACiB,GAAP,CAAW,OAAX,EAAoBH,yBAApB,EAAoCW,mBAApC;eAGezB,M","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/routes/","sourcesContent":["import express from 'express';\nimport multer from \"multer\";\nimport {saveBlog,getAllBlog,updateBlog,deleteBlog, commentonBlog, getAllComment} from '../controllers/blog.controller'\nconst router = express.Router();\nimport { checkAdminAuth, checkAuth } from '../middleware/check-user';\nconst storage=multer.diskStorage({});\nconst fileFilter=(req,file,cb)=>{\n    if(file.mimetype.startsWith(\"image\"))\n    {\ncb(null,true);\n    }\n    else{\n        cb(\"invalid image file!\",false);\n    }\n};\nconst uploads=multer({storage,fileFilter});\nrouter.post('/save',checkAdminAuth, uploads.single(\"photo\"), saveBlog);\nrouter.get('/get', getAllBlog);\nrouter.put('/:id',checkAdminAuth, uploads.single(\"photo\"), updateBlog);\nrouter.delete('/delete/:id', checkAdminAuth, deleteBlog);\nrouter.put('/:id/comment',checkAuth, commentonBlog);\nrouter.get('/:id/', checkAdminAuth, getAllComment);\n\n\nexport default router;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"98c8a2e84e4e2b41834eefb8e32d230d96461f6e","contentHash":"bc29bd5a5c890ffa73b6a7c1cedf835f82b99899d2338b0362587b17c5e6264d"},"/Users/andela/Desktop/capstone-backend/src/controllers/blog.controller.js":{"path":"/Users/andela/Desktop/capstone-backend/src/controllers/blog.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":137}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":69}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":42}},"4":{"start":{"line":12,"column":18},"end":{"line":12,"column":57}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":16,"column":17},"end":{"line":58,"column":1}},"7":{"start":{"line":19,"column":6},"end":{"line":19,"column":47}},"8":{"start":{"line":21,"column":2},"end":{"line":25,"column":3}},"9":{"start":{"line":22,"column":4},"end":{"line":24,"column":7}},"10":{"start":{"line":27,"column":2},"end":{"line":31,"column":3}},"11":{"start":{"line":28,"column":4},"end":{"line":28,"column":56}},"12":{"start":{"line":30,"column":4},"end":{"line":30,"column":178}},"13":{"start":{"line":33,"column":15},"end":{"line":38,"column":3}},"14":{"start":{"line":41,"column":6},"end":{"line":41,"column":14}},"15":{"start":{"line":42,"column":18},"end":{"line":44,"column":4}},"16":{"start":{"line":46,"column":2},"end":{"line":48,"column":3}},"17":{"start":{"line":47,"column":4},"end":{"line":47,"column":79}},"18":{"start":{"line":51,"column":18},"end":{"line":51,"column":41}},"19":{"start":{"line":53,"column":2},"end":{"line":53,"column":23}},"20":{"start":{"line":54,"column":2},"end":{"line":57,"column":5}},"21":{"start":{"line":60,"column":0},"end":{"line":60,"column":28}},"22":{"start":{"line":62,"column":19},"end":{"line":68,"column":1}},"23":{"start":{"line":63,"column":16},"end":{"line":63,"column":42}},"24":{"start":{"line":64,"column":2},"end":{"line":67,"column":5}},"25":{"start":{"line":70,"column":0},"end":{"line":70,"column":32}},"26":{"start":{"line":72,"column":19},"end":{"line":106,"column":1}},"27":{"start":{"line":73,"column":2},"end":{"line":105,"column":3}},"28":{"start":{"line":74,"column":17},"end":{"line":76,"column":6}},"29":{"start":{"line":78,"column":4},"end":{"line":80,"column":5}},"30":{"start":{"line":79,"column":6},"end":{"line":79,"column":34}},"31":{"start":{"line":82,"column":4},"end":{"line":84,"column":5}},"32":{"start":{"line":83,"column":6},"end":{"line":83,"column":36}},"33":{"start":{"line":86,"column":4},"end":{"line":88,"column":5}},"34":{"start":{"line":87,"column":6},"end":{"line":87,"column":46}},"35":{"start":{"line":90,"column":4},"end":{"line":96,"column":5}},"36":{"start":{"line":91,"column":6},"end":{"line":93,"column":7}},"37":{"start":{"line":92,"column":8},"end":{"line":92,"column":60}},"38":{"start":{"line":95,"column":6},"end":{"line":95,"column":34}},"39":{"start":{"line":98,"column":4},"end":{"line":98,"column":22}},"40":{"start":{"line":99,"column":4},"end":{"line":99,"column":19}},"41":{"start":{"line":101,"column":4},"end":{"line":101,"column":20}},"42":{"start":{"line":102,"column":4},"end":{"line":104,"column":7}},"43":{"start":{"line":108,"column":0},"end":{"line":108,"column":32}},"44":{"start":{"line":110,"column":19},"end":{"line":125,"column":1}},"45":{"start":{"line":111,"column":2},"end":{"line":124,"column":3}},"46":{"start":{"line":112,"column":4},"end":{"line":114,"column":7}},"47":{"start":{"line":115,"column":4},"end":{"line":118,"column":7}},"48":{"start":{"line":120,"column":4},"end":{"line":120,"column":20}},"49":{"start":{"line":121,"column":4},"end":{"line":123,"column":7}},"50":{"start":{"line":127,"column":0},"end":{"line":127,"column":32}},"51":{"start":{"line":129,"column":22},"end":{"line":145,"column":1}},"52":{"start":{"line":130,"column":13},"end":{"line":130,"column":26}},"53":{"start":{"line":131,"column":15},"end":{"line":131,"column":23}},"54":{"start":{"line":132,"column":15},"end":{"line":132,"column":47}},"55":{"start":{"line":133,"column":2},"end":{"line":136,"column":5}},"56":{"start":{"line":133,"column":13},"end":{"line":136,"column":5}},"57":{"start":{"line":137,"column":2},"end":{"line":137,"column":27}},"58":{"start":{"line":138,"column":2},"end":{"line":138,"column":20}},"59":{"start":{"line":139,"column":2},"end":{"line":139,"column":50}},"60":{"start":{"line":140,"column":2},"end":{"line":140,"column":14}},"61":{"start":{"line":141,"column":2},"end":{"line":144,"column":5}},"62":{"start":{"line":147,"column":0},"end":{"line":147,"column":38}},"63":{"start":{"line":149,"column":22},"end":{"line":157,"column":1}},"64":{"start":{"line":150,"column":13},"end":{"line":150,"column":26}},"65":{"start":{"line":151,"column":15},"end":{"line":151,"column":47}},"66":{"start":{"line":152,"column":18},"end":{"line":152,"column":31}},"67":{"start":{"line":153,"column":2},"end":{"line":156,"column":5}},"68":{"start":{"line":159,"column":0},"end":{"line":159,"column":38}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":17},"end":{"line":16,"column":18}},"loc":{"start":{"line":16,"column":37},"end":{"line":58,"column":1}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":62,"column":19},"end":{"line":62,"column":20}},"loc":{"start":{"line":62,"column":39},"end":{"line":68,"column":1}},"line":62},"3":{"name":"(anonymous_3)","decl":{"start":{"line":72,"column":19},"end":{"line":72,"column":20}},"loc":{"start":{"line":72,"column":39},"end":{"line":106,"column":1}},"line":72},"4":{"name":"(anonymous_4)","decl":{"start":{"line":110,"column":19},"end":{"line":110,"column":20}},"loc":{"start":{"line":110,"column":39},"end":{"line":125,"column":1}},"line":110},"5":{"name":"(anonymous_5)","decl":{"start":{"line":129,"column":22},"end":{"line":129,"column":23}},"loc":{"start":{"line":129,"column":42},"end":{"line":145,"column":1}},"line":129},"6":{"name":"(anonymous_6)","decl":{"start":{"line":149,"column":22},"end":{"line":149,"column":23}},"loc":{"start":{"line":149,"column":42},"end":{"line":157,"column":1}},"line":149}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14},"2":{"loc":{"start":{"line":21,"column":2},"end":{"line":25,"column":3}},"type":"if","locations":[{"start":{"line":21,"column":2},"end":{"line":25,"column":3}},{"start":{"line":21,"column":2},"end":{"line":25,"column":3}}],"line":21},"3":{"loc":{"start":{"line":27,"column":2},"end":{"line":31,"column":3}},"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":31,"column":3}},{"start":{"line":27,"column":2},"end":{"line":31,"column":3}}],"line":27},"4":{"loc":{"start":{"line":46,"column":2},"end":{"line":48,"column":3}},"type":"if","locations":[{"start":{"line":46,"column":2},"end":{"line":48,"column":3}},{"start":{"line":46,"column":2},"end":{"line":48,"column":3}}],"line":46},"5":{"loc":{"start":{"line":78,"column":4},"end":{"line":80,"column":5}},"type":"if","locations":[{"start":{"line":78,"column":4},"end":{"line":80,"column":5}},{"start":{"line":78,"column":4},"end":{"line":80,"column":5}}],"line":78},"6":{"loc":{"start":{"line":82,"column":4},"end":{"line":84,"column":5}},"type":"if","locations":[{"start":{"line":82,"column":4},"end":{"line":84,"column":5}},{"start":{"line":82,"column":4},"end":{"line":84,"column":5}}],"line":82},"7":{"loc":{"start":{"line":86,"column":4},"end":{"line":88,"column":5}},"type":"if","locations":[{"start":{"line":86,"column":4},"end":{"line":88,"column":5}},{"start":{"line":86,"column":4},"end":{"line":88,"column":5}}],"line":86},"8":{"loc":{"start":{"line":90,"column":4},"end":{"line":96,"column":5}},"type":"if","locations":[{"start":{"line":90,"column":4},"end":{"line":96,"column":5}},{"start":{"line":90,"column":4},"end":{"line":96,"column":5}}],"line":90},"9":{"loc":{"start":{"line":91,"column":6},"end":{"line":93,"column":7}},"type":"if","locations":[{"start":{"line":91,"column":6},"end":{"line":93,"column":7}},{"start":{"line":91,"column":6},"end":{"line":93,"column":7}}],"line":91},"10":{"loc":{"start":{"line":133,"column":2},"end":{"line":136,"column":5}},"type":"if","locations":[{"start":{"line":133,"column":2},"end":{"line":136,"column":5}},{"start":{"line":133,"column":2},"end":{"line":136,"column":5}}],"line":133}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":1,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":1,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":1,"63":1,"64":0,"65":0,"66":0,"67":0,"68":1},"f":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0},"b":{"0":[1,0],"1":[1,1],"2":[0,1],"3":[0,1],"4":[1,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"inputSourceMap":{"version":3,"sources":["blog.controller.js"],"names":["saveBlog","req","res","error","body","status","json","message","details","file","photo","blog","title","author","description","oldBlog","Blog","findOne","send","newBlog","save","success","data","getAllBlog","blogs","find","updateBlog","_id","params","id","deleteBlog","deleteOne","commentonBlog","idea","findById","comments","push","console","log","findByIdAndUpdate","getAllComment","comment"],"mappings":"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","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/controllers/","sourcesContent":["import Blog from \"../database/model/blog\";\nimport { fileUpload } from \"../helpers/multer\";\nimport { blogValidation } from \"../helpers/validation.schema\";\n\nexport const saveBlog = async (req, res) => {\n    const{error} =blogValidation(req.body);\n    if(error){\n        return res.status(400).json({message:error.details[0].message})\n    }\n\tif (req.file) {\n        req.body.photo = await fileUpload(req);\n    } \n\telse {\n        req.body.photo =\n            \"https://images.unsplash.com/photo-1553095066-5014bc7b7f2d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8d2FsbCUyMGJhY2tncm91bmR8ZW58MHx8MHx8&w=1000&q=80\";\n    }\n\n    const blog = {\n        title: req.body.title,\n\t\tauthor: req.body.author,\n        description: req.body.description,\n        photo: req.body.photo,\n        \n    };\n    const{title}=req.body;\n    const oldBlog= await Blog.findOne({title});\n        if(oldBlog){\n            return res.status(409).send(\"Blog Already Exist. Please change the title\");\n        }\n\t\n\t//console.log(blog);\n    const newBlog = new Blog(blog);\n\t//console.log(newBlog);\n    await newBlog.save();\n    res.status(201).json({success: true, data: newBlog});\n\t\n}\n\nexport const getAllBlog = async (req, res) => {\n    const blogs= await Blog.find();\n    res.status(200).json({success: true, data: blogs})\n}\n\nexport const updateBlog= async (req, res) =>{\n\ttry {\n\t\tconst blog = await Blog.findOne({ _id: req.params.id })\n\n\t\tif (req.body.title) {\n\t\t\tblog.title = req.body.title\n\t\t}\n\n\t\tif (req.body.author) {\n\t\t\tblog.author = req.body.author\n\t\t}\n        if (req.body.description) {\n\t\t\tblog.description = req.body.description\n\t\t}\n        if(req.body.photo){\n            if (req.file) {\n                req.body.photo = await fileUpload(req);\n            }\n            blog.photo=req.body.photo;\n        }\n\n\t\tawait blog.save()\n\t\tres.send(blog)\n\t} catch {\n\t\tres.status(404)\n\t\tres.send({ error: \"This blog doesn't exist!\" })\n\t}\n}\n\nexport const deleteBlog=async (req, res) => {\n\ttry {\n\t\tawait Blog.deleteOne({ _id: req.params.id })\n\t\tres.status(202).json({success: true, data: null})\n\t} catch {\n\t\tres.status(404)\n\t\tres.send({ error: \"Message doesn't exist!\" })\n\t}\n}\n\nexport const commentonBlog = async (req, res) => {\n    const id = (req.params.id)\n    const idea = req.body;\n    const blog = await Blog.findById(id);\n    if (!blog) return res.status(404).json({ status: \"fail\", message: \"blog not found\" });\n    blog.comments.push(idea);\n    console.log(blog);\n    await Blog.findByIdAndUpdate(id, idea);\n    blog.save();\n    res.status(201).json({ status: \"success\", message: \"comment added\" });\n}\nexport const getAllComment = async (req, res) => {\n    const id = (req.params.id)\n    const blog = await Blog.findById(id);\n    const comment = blog.comments;\n    res.status(200).json({ status: \"success\", data: comment})\n}\n\n\n\n\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b791adaca9c68f150af4bc27eeb1e4e5bd7b0c00","contentHash":"844642d88627ff68265256cb95047418012837746e3b0438c2dc48eec07943a8"},"/Users/andela/Desktop/capstone-backend/src/database/model/blog.js":{"path":"/Users/andela/Desktop/capstone-backend/src/database/model/blog.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":19},"end":{"line":21,"column":2}},"5":{"start":{"line":23,"column":13},"end":{"line":23,"column":56}},"6":{"start":{"line":25,"column":15},"end":{"line":25,"column":19}},"7":{"start":{"line":26,"column":0},"end":{"line":26,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["blog.js"],"names":["blogSchema","mongoose","Schema","title","String","author","description","photo","comments","name","comment","Blog","model"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAE,IAAIC,kBAASC,MAAb,CAAoB;AACtCC,EAAAA,KAAK,EAAEC,MAD+B;AAEtCC,EAAAA,MAAM,EAAED,MAF8B;AAGtCE,EAAAA,WAAW,EAACF,MAH0B;AAItCG,EAAAA,KAAK,EAACH,MAJgC;AAKtCI,EAAAA,QAAQ,EAAC,CAAC;AACNC,IAAAA,IAAI,EAACL,MADC;AAENM,IAAAA,OAAO,EAACN;AAFF,GAAD;AAL6B,CAApB,CAAlB;;AAWA,MAAMO,IAAI,GAAEV,kBAASW,KAAT,CAAe,MAAf,EAAuBZ,UAAvB,CAAZ;;eACeW,I","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/database/model/","sourcesContent":["import mongoose from \"mongoose\";\n\nconst blogSchema= new mongoose.Schema({\ntitle: String,\nauthor: String,\ndescription:String,\nphoto:String,\ncomments:[{\n    name:String,\n    comment:String,\n}],\n});\n\nconst Blog =mongoose.model('Blog', blogSchema);\nexport default Blog;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d3b87a945a3082d223862b8dcab5462ef094c579","contentHash":"e931eeb694846c98cfd9f0d8fe9792ff68fac37e5286c848c47620f9d2a44846"},"/Users/andela/Desktop/capstone-backend/src/helpers/multer.js":{"path":"/Users/andela/Desktop/capstone-backend/src/helpers/multer.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":49}},"2":{"start":{"line":8,"column":18},"end":{"line":8,"column":68}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":19},"end":{"line":18,"column":1}},"5":{"start":{"line":13,"column":2},"end":{"line":17,"column":3}},"6":{"start":{"line":14,"column":4},"end":{"line":14,"column":19}},"7":{"start":{"line":16,"column":4},"end":{"line":16,"column":37}},"8":{"start":{"line":20,"column":0},"end":{"line":20,"column":32}},"9":{"start":{"line":22,"column":19},"end":{"line":32,"column":1}},"10":{"start":{"line":23,"column":17},"end":{"line":23,"column":19}},"11":{"start":{"line":24,"column":2},"end":{"line":30,"column":5}},"12":{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},"13":{"start":{"line":26,"column":6},"end":{"line":26,"column":23}},"14":{"start":{"line":29,"column":4},"end":{"line":29,"column":25}},"15":{"start":{"line":31,"column":2},"end":{"line":31,"column":18}},"16":{"start":{"line":34,"column":0},"end":{"line":34,"column":32}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":19},"end":{"line":12,"column":20}},"loc":{"start":{"line":12,"column":38},"end":{"line":18,"column":1}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":19},"end":{"line":22,"column":20}},"loc":{"start":{"line":22,"column":32},"end":{"line":32,"column":1}},"line":22},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":62},"end":{"line":24,"column":63}},"loc":{"start":{"line":24,"column":90},"end":{"line":30,"column":3}},"line":24}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10},"2":{"loc":{"start":{"line":13,"column":2},"end":{"line":17,"column":3}},"type":"if","locations":[{"start":{"line":13,"column":2},"end":{"line":17,"column":3}},{"start":{"line":13,"column":2},"end":{"line":17,"column":3}}],"line":13},"3":{"loc":{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},{"start":{"line":25,"column":4},"end":{"line":27,"column":5}}],"line":25}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0]},"inputSourceMap":{"version":3,"sources":["multer.js"],"names":["fileFilter","req","file","cb","mimetype","startsWith","fileUpload","imageUrl","cloudinary","v2","uploader","upload","path","err","image","console","log","url"],"mappings":";;;;;;;AAAA;;;;AAEO,MAAMA,UAAU,GAAG,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,KAAmB;AAC5C,MAAID,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAyB,OAAzB,CAAJ,EAAuC;AACtCF,IAAAA,EAAE,CAAC,IAAD,EAAO,IAAP,CAAF;AACA,GAFD,MAEO;AACNA,IAAAA,EAAE,CAAC,qBAAD,EAAwB,KAAxB,CAAF;AACA;AACD,CANM;;;;AAOA,MAAMG,UAAU,GAAG,MAAOL,GAAP,IAAe;AACxC,MAAIM,QAAQ,GAAG,EAAf;AACA,QAAMC,oBAAWC,EAAX,CAAcC,QAAd,CAAuBC,MAAvB,CACLV,GAAG,CAACC,IAAJ,CAASU,IADJ,EAEL,gBAAgBC,GAAhB,EAAqBC,KAArB,EAA4B;AAC3B,QAAID,GAAJ,EAAS;AACRE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA;;AACDN,IAAAA,QAAQ,GAAGO,KAAK,CAACG,GAAjB;AACA,GAPI,CAAN;AASA,SAAOV,QAAP;AACA,CAZM","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/helpers/","sourcesContent":["import cloudinary from \"./cloudinary.js\";\n\nexport const fileFilter = (req, file, cb) => {\n\tif (file.mimetype.startsWith(\"image\")) {\n\t\tcb(null, true);\n\t} else {\n\t\tcb(\"invalid image file!\", false);\n\t}\n};\nexport const fileUpload = async (req) => {\n\tlet imageUrl = \"\";\n\tawait cloudinary.v2.uploader.upload(\n\t\treq.file.path,\n\t\tasync function (err, image) {\n\t\t\tif (err) {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t\timageUrl = image.url;\n\t\t}\n\t);\n\treturn imageUrl;\n};"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b7437434cd3d5abb936db2832325428eac8e784c","contentHash":"b0ec45d0a71c8e0f5dbf263244f52ca259d676490be28a78f1c36174cfb23aed"},"/Users/andela/Desktop/capstone-backend/src/helpers/cloudinary.js":{"path":"/Users/andela/Desktop/capstone-backend/src/helpers/cloudinary.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":18},"end":{"line":8,"column":63}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":14,"column":0},"end":{"line":18,"column":3}},"6":{"start":{"line":20,"column":15},"end":{"line":20,"column":34}},"7":{"start":{"line":21,"column":0},"end":{"line":21,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["cloudinary.js"],"names":["cloudinary","config","cloud_name","process","env","CLOUDINARY_USER_NAME","api_key","CLOUDINARY_API_KEY","api_secret","CLOUDINARY_API_SECRET"],"mappings":";;;;;;;AAAA;;AACA;;;;AACAA,oBAAWC,MAAX,CAAkB;AACjBC,EAAAA,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC,oBADP;AAEjBC,EAAAA,OAAO,EAAEH,OAAO,CAACC,GAAR,CAAYG,kBAFJ;AAGjBC,EAAAA,UAAU,EAAEL,OAAO,CAACC,GAAR,CAAYK;AAHP,CAAlB;;eAMeT,mB","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/helpers/","sourcesContent":["import cloudinary from \"cloudinary\";\nimport \"dotenv/config\";\ncloudinary.config({\n\tcloud_name: process.env.CLOUDINARY_USER_NAME,\n\tapi_key: process.env.CLOUDINARY_API_KEY,\n\tapi_secret: process.env.CLOUDINARY_API_SECRET,\n});\n\nexport default cloudinary;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"02b3360bfe65993b745449f9bd2294f56d97cee5","contentHash":"28173ccada1c93e1c3b9bab3ad98a019e013ffa4b44abc13780e3769444fcddd"},"/Users/andela/Desktop/capstone-backend/src/routes/subscriber.route.js":{"path":"/Users/andela/Desktop/capstone-backend/src/routes/subscriber.route.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":18},"end":{"line":10,"column":65}},"4":{"start":{"line":12,"column":17},"end":{"line":12,"column":52}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":16,"column":15},"end":{"line":16,"column":40}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":45}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":73}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":79}},"10":{"start":{"line":21,"column":15},"end":{"line":21,"column":21}},"11":{"start":{"line":22,"column":0},"end":{"line":22,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["subscriber.route.js"],"names":["router","express","Router","post","saveSubscriber","get","checkAdminAuth","getAllSubscriber","delete","deleteSubscriber"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AACAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiBC,0BAAjB;AACAJ,MAAM,CAACK,GAAP,CAAW,GAAX,EAAeC,yBAAf,EAA+BC,4BAA/B;AACAP,MAAM,CAACQ,MAAP,CAAc,MAAd,EAAqBF,yBAArB,EAAqCG,4BAArC;eAGeT,M","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/routes/","sourcesContent":["import express from 'express';\nimport {deleteSubscriber, getAllSubscriber, saveSubscriber} from '../controllers/subscriber.controller'\nimport { checkAdminAuth } from '../middleware/check-user';\nconst router = express.Router();\nrouter.post('/', saveSubscriber);\nrouter.get('/',checkAdminAuth, getAllSubscriber);\nrouter.delete('/:id',checkAdminAuth, deleteSubscriber);\n\n\nexport default router;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0b12e2879ff113aa1fe0b09111d03ca39568ce64","contentHash":"4985da914db4249ef80612ecbc79d4df97ded1dc8765c5c5ab9d932938e817ac"},"/Users/andela/Desktop/capstone-backend/src/controllers/subscriber.controller.js":{"path":"/Users/andela/Desktop/capstone-backend/src/controllers/subscriber.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":86}},"2":{"start":{"line":8,"column":18},"end":{"line":8,"column":81}},"3":{"start":{"line":10,"column":18},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":14,"column":23},"end":{"line":43,"column":1}},"6":{"start":{"line":17,"column":6},"end":{"line":17,"column":54}},"7":{"start":{"line":19,"column":2},"end":{"line":23,"column":3}},"8":{"start":{"line":20,"column":4},"end":{"line":22,"column":7}},"9":{"start":{"line":25,"column":22},"end":{"line":27,"column":4}},"10":{"start":{"line":29,"column":2},"end":{"line":34,"column":3}},"11":{"start":{"line":30,"column":4},"end":{"line":33,"column":7}},"12":{"start":{"line":36,"column":21},"end":{"line":36,"column":29}},"13":{"start":{"line":37,"column":24},"end":{"line":37,"column":59}},"14":{"start":{"line":38,"column":2},"end":{"line":38,"column":29}},"15":{"start":{"line":39,"column":2},"end":{"line":42,"column":5}},"16":{"start":{"line":45,"column":0},"end":{"line":45,"column":40}},"17":{"start":{"line":47,"column":25},"end":{"line":53,"column":1}},"18":{"start":{"line":48,"column":22},"end":{"line":48,"column":54}},"19":{"start":{"line":49,"column":2},"end":{"line":52,"column":5}},"20":{"start":{"line":55,"column":0},"end":{"line":55,"column":44}},"21":{"start":{"line":57,"column":25},"end":{"line":72,"column":1}},"22":{"start":{"line":58,"column":2},"end":{"line":71,"column":3}},"23":{"start":{"line":59,"column":4},"end":{"line":61,"column":7}},"24":{"start":{"line":62,"column":4},"end":{"line":65,"column":7}},"25":{"start":{"line":67,"column":4},"end":{"line":67,"column":20}},"26":{"start":{"line":68,"column":4},"end":{"line":70,"column":7}},"27":{"start":{"line":74,"column":0},"end":{"line":74,"column":44}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":23},"end":{"line":14,"column":24}},"loc":{"start":{"line":14,"column":43},"end":{"line":43,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":47,"column":25},"end":{"line":47,"column":26}},"loc":{"start":{"line":47,"column":45},"end":{"line":53,"column":1}},"line":47},"3":{"name":"(anonymous_3)","decl":{"start":{"line":57,"column":25},"end":{"line":57,"column":26}},"loc":{"start":{"line":57,"column":45},"end":{"line":72,"column":1}},"line":57}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":19,"column":2},"end":{"line":23,"column":3}},"type":"if","locations":[{"start":{"line":19,"column":2},"end":{"line":23,"column":3}},{"start":{"line":19,"column":2},"end":{"line":23,"column":3}}],"line":19},"3":{"loc":{"start":{"line":29,"column":2},"end":{"line":34,"column":3}},"type":"if","locations":[{"start":{"line":29,"column":2},"end":{"line":34,"column":3}},{"start":{"line":29,"column":2},"end":{"line":34,"column":3}}],"line":29}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":3,"7":3,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1},"f":{"0":1,"1":3,"2":1,"3":2},"b":{"0":[1,0],"1":[1,1],"2":[1,2],"3":[1,1]},"inputSourceMap":{"version":3,"sources":["subscriber.controller.js"],"names":["saveSubscriber","req","res","error","body","status","json","message","details","oldSubscriber","Subscriber","findOne","Email","subscriber","newSubscriber","save","success","data","getAllSubscriber","subscribers","find","deleteSubscriber","deleteOne","_id","params","id","send"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEO,MAAMA,cAAc,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjD,QAAK;AAAEC,IAAAA;AAAF,MAAU,uCAAsBF,GAAG,CAACG,IAA1B,CAAf;;AACA,MAAGD,KAAH,EAAU;AACT,WAAOD,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAACJ,KAAK,CAACK,OAAN,CAAc,CAAd,EAAiBD;AAA1B,KAArB,CAAP;AACA;;AAED,MAAIE,aAAa,GAAE,MAAMC,oBAAWC,OAAX,CAAmB;AAACC,IAAAA,KAAK,EAACX,GAAG,CAACG,IAAJ,CAASQ;AAAhB,GAAnB,CAAzB;;AACA,MAAIH,aAAJ,EAAkB;AACjB,WAAOP,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACH,MAAAA,KAAK,EAAC,IAAP;AAAYI,MAAAA,OAAO,EAAC;AAApB,KAArB,CAAP;AACA;;AACD,QAAMM,UAAU,GAACZ,GAAG,CAACG,IAArB;AACG,QAAMU,aAAa,GAAG,IAAIJ,mBAAJ,CAAeG,UAAf,CAAtB;AACA,QAAMC,aAAa,CAACC,IAAd,EAAN;AACAb,EAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACU,IAAAA,OAAO,EAAE,IAAV;AAAgBC,IAAAA,IAAI,EAAEH;AAAtB,GAArB;AACH,CAdM;;;;AAgBA,MAAMI,gBAAgB,GAAG,OAAOjB,GAAP,EAAYC,GAAZ,KAAoB;AAChD,QAAMiB,WAAW,GAAE,MAAMT,oBAAWU,IAAX,EAAzB;AACAlB,EAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACU,IAAAA,OAAO,EAAE,IAAV;AAAgBC,IAAAA,IAAI,EAAEE;AAAtB,GAArB;AACH,CAHM;;;;AAMA,MAAME,gBAAgB,GAAC,OAAOpB,GAAP,EAAYC,GAAZ,KAAoB;AACjD,MAAI;AACH,UAAMQ,oBAAWY,SAAX,CAAqB;AAAEC,MAAAA,GAAG,EAAEtB,GAAG,CAACuB,MAAJ,CAAWC;AAAlB,KAArB,CAAN;AACAvB,IAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACU,MAAAA,OAAO,EAAE,IAAV;AAAgBC,MAAAA,IAAI,EAAE;AAAtB,KAArB;AACA,GAHD,CAGE,MAAM;AACPf,IAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX;AACAH,IAAAA,GAAG,CAACwB,IAAJ,CAAS;AAAEvB,MAAAA,KAAK,EAAE;AAAT,KAAT;AACA;AACD,CARM","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/controllers/","sourcesContent":["import Subscriber from \"../database/model/subscriber\";\nimport { subscribersValidation } from \"../helpers/validation.schema\";\n\nexport const saveSubscriber = async (req, res) => {\n\tconst{ error }=subscribersValidation(req.body);\n\tif(error) {\n\t\treturn res.status(400).json({message:error.details[0].message});\n\t}\n  \n\tlet oldSubscriber= await Subscriber.findOne({Email:req.body.Email})\n\tif (oldSubscriber){\n\t\treturn res.status(400).json({error:true,message:\"You have already Subscriber\"});\n\t}\n\tconst subscriber=req.body;\n    const newSubscriber = new Subscriber(subscriber);\n    await newSubscriber.save();\n    res.status(201).json({success: true, data: newSubscriber});\n}\n\nexport const getAllSubscriber = async (req, res) => {\n    const subscribers= await Subscriber.find();\n    res.status(200).json({success: true, data: subscribers})\n}\n\n\nexport const deleteSubscriber=async (req, res) => {\n\ttry {\n\t\tawait Subscriber.deleteOne({ _id: req.params.id })\n\t\tres.status(202).json({success: true, data: null})\n\t} catch {\n\t\tres.status(404)\n\t\tres.send({ error: \"Subscriber doesn't exist!\" })\n\t}\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e63ce6a17746f0974c36937e4cb1d6155b11f460","contentHash":"8f3badd5c39ca4e7b0746a2df12a6a074929f0054962059086bb7f328f775c4d"},"/Users/andela/Desktop/capstone-backend/src/database/model/subscriber.js":{"path":"/Users/andela/Desktop/capstone-backend/src/database/model/subscriber.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":25},"end":{"line":14,"column":2}},"5":{"start":{"line":16,"column":19},"end":{"line":16,"column":74}},"6":{"start":{"line":18,"column":15},"end":{"line":18,"column":25}},"7":{"start":{"line":19,"column":0},"end":{"line":19,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["subscriber.js"],"names":["subscriberSchema","mongoose","Schema","Email","String","Subscriber","model"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,gBAAgB,GAAE,IAAIC,kBAASC,MAAb,CAAoB;AAC5CC,EAAAA,KAAK,EAACC;AADsC,CAApB,CAAxB;;AAIA,MAAMC,UAAU,GAAEJ,kBAASK,KAAT,CAAe,YAAf,EAA6BN,gBAA7B,CAAlB;;eACeK,U","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/database/model/","sourcesContent":["import mongoose from \"mongoose\";\n\nconst subscriberSchema= new mongoose.Schema({\nEmail:String\n});\n\nconst Subscriber =mongoose.model('Subscriber', subscriberSchema);\nexport default Subscriber;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"720490386893d61292a3cef47c46fc3423ebf36b","contentHash":"89ee1f990b2fae19ee5508c343c7750336ce11ade0ebb95335dab042458fe6cc"},"/Users/andela/Desktop/capstone-backend/src/routes/signup.route.js":{"path":"/Users/andela/Desktop/capstone-backend/src/routes/signup.route.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":56}},"4":{"start":{"line":12,"column":17},"end":{"line":12,"column":52}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":16,"column":15},"end":{"line":16,"column":40}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":33}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":66}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":37}},"10":{"start":{"line":21,"column":0},"end":{"line":21,"column":76}},"11":{"start":{"line":22,"column":15},"end":{"line":22,"column":21}},"12":{"start":{"line":23,"column":0},"end":{"line":23,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["signup.route.js"],"names":["router","express","Router","post","Signup","get","checkAdminAuth","getAllUser","login","delete","deleteUser"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AACAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiBC,cAAjB;AACAJ,MAAM,CAACK,GAAP,CAAW,MAAX,EAAmBC,yBAAnB,EAAmCC,kBAAnC;AACAP,MAAM,CAACG,IAAP,CAAY,QAAZ,EAAqBK,aAArB;AACAR,MAAM,CAACS,MAAP,CAAc,aAAd,EAA4BH,yBAA5B,EAA2CI,kBAA3C;eAEeV,M","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/routes/","sourcesContent":["import express from 'express';\nimport {Signup,getAllUser, login,deleteUser} from '../controllers/signup.controler';\nimport { checkAdminAuth } from '../middleware/check-user';\nconst router = express.Router();\nrouter.post('/', Signup);\nrouter.get('/get', checkAdminAuth, getAllUser);\nrouter.post('/login',login);\nrouter.delete('/delete/:id',checkAdminAuth,deleteUser);\n\nexport default router;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5e1a68158e4e953a606691fa5c24c789fcee1eda","contentHash":"5b605354fffd94d3710d44c775f6290cb38c5944d09b6b180425eae021928fdb"},"/Users/andela/Desktop/capstone-backend/src/controllers/signup.controler.js":{"path":"/Users/andela/Desktop/capstone-backend/src/controllers/signup.controler.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":82}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":69}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":73}},"4":{"start":{"line":12,"column":11},"end":{"line":12,"column":36}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":16,"column":15},"end":{"line":49,"column":1}},"7":{"start":{"line":17,"column":2},"end":{"line":48,"column":3}},"8":{"start":{"line":24,"column":8},"end":{"line":24,"column":16}},"9":{"start":{"line":25,"column":20},"end":{"line":27,"column":6}},"10":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"11":{"start":{"line":30,"column":6},"end":{"line":30,"column":70}},"12":{"start":{"line":33,"column":30},"end":{"line":33,"column":70}},"13":{"start":{"line":34,"column":17},"end":{"line":40,"column":6}},"14":{"start":{"line":41,"column":4},"end":{"line":45,"column":7}},"15":{"start":{"line":47,"column":4},"end":{"line":47,"column":21}},"16":{"start":{"line":51,"column":0},"end":{"line":51,"column":24}},"17":{"start":{"line":53,"column":19},"end":{"line":59,"column":1}},"18":{"start":{"line":54,"column":16},"end":{"line":54,"column":44}},"19":{"start":{"line":55,"column":2},"end":{"line":58,"column":5}},"20":{"start":{"line":61,"column":0},"end":{"line":61,"column":32}},"21":{"start":{"line":63,"column":14},"end":{"line":116,"column":1}},"22":{"start":{"line":64,"column":2},"end":{"line":115,"column":3}},"23":{"start":{"line":69,"column":8},"end":{"line":69,"column":16}},"24":{"start":{"line":71,"column":4},"end":{"line":75,"column":5}},"25":{"start":{"line":72,"column":6},"end":{"line":74,"column":9}},"26":{"start":{"line":77,"column":17},"end":{"line":79,"column":6}},"27":{"start":{"line":81,"column":4},"end":{"line":107,"column":5}},"28":{"start":{"line":87,"column":10},"end":{"line":87,"column":14}},"29":{"start":{"line":88,"column":21},"end":{"line":93,"column":7}},"30":{"start":{"line":94,"column":20},"end":{"line":100,"column":9}},"31":{"start":{"line":101,"column":6},"end":{"line":106,"column":9}},"32":{"start":{"line":109,"column":4},"end":{"line":112,"column":7}},"33":{"start":{"line":114,"column":4},"end":{"line":114,"column":21}},"34":{"start":{"line":118,"column":0},"end":{"line":118,"column":22}},"35":{"start":{"line":120,"column":19},"end":{"line":135,"column":1}},"36":{"start":{"line":121,"column":2},"end":{"line":134,"column":3}},"37":{"start":{"line":122,"column":4},"end":{"line":124,"column":7}},"38":{"start":{"line":125,"column":4},"end":{"line":128,"column":7}},"39":{"start":{"line":130,"column":4},"end":{"line":130,"column":20}},"40":{"start":{"line":131,"column":4},"end":{"line":133,"column":7}},"41":{"start":{"line":137,"column":0},"end":{"line":137,"column":32}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":15},"end":{"line":16,"column":16}},"loc":{"start":{"line":16,"column":35},"end":{"line":49,"column":1}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":53,"column":19},"end":{"line":53,"column":20}},"loc":{"start":{"line":53,"column":39},"end":{"line":59,"column":1}},"line":53},"3":{"name":"(anonymous_3)","decl":{"start":{"line":63,"column":14},"end":{"line":63,"column":15}},"loc":{"start":{"line":63,"column":34},"end":{"line":116,"column":1}},"line":63},"4":{"name":"(anonymous_4)","decl":{"start":{"line":120,"column":19},"end":{"line":120,"column":20}},"loc":{"start":{"line":120,"column":39},"end":{"line":135,"column":1}},"line":120}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14},"2":{"loc":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},{"start":{"line":29,"column":4},"end":{"line":31,"column":5}}],"line":29},"3":{"loc":{"start":{"line":71,"column":4},"end":{"line":75,"column":5}},"type":"if","locations":[{"start":{"line":71,"column":4},"end":{"line":75,"column":5}},{"start":{"line":71,"column":4},"end":{"line":75,"column":5}}],"line":71},"4":{"loc":{"start":{"line":71,"column":10},"end":{"line":71,"column":27}},"type":"binary-expr","locations":[{"start":{"line":71,"column":10},"end":{"line":71,"column":15}},{"start":{"line":71,"column":19},"end":{"line":71,"column":27}}],"line":71},"5":{"loc":{"start":{"line":81,"column":4},"end":{"line":107,"column":5}},"type":"if","locations":[{"start":{"line":81,"column":4},"end":{"line":107,"column":5}},{"start":{"line":81,"column":4},"end":{"line":107,"column":5}}],"line":81},"6":{"loc":{"start":{"line":81,"column":8},"end":{"line":81,"column":72}},"type":"binary-expr","locations":[{"start":{"line":81,"column":8},"end":{"line":81,"column":12}},{"start":{"line":81,"column":17},"end":{"line":81,"column":71}}],"line":81}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":1,"7":8,"8":8,"9":8,"10":8,"11":3,"12":5,"13":5,"14":5,"15":0,"16":1,"17":1,"18":0,"19":0,"20":1,"21":1,"22":8,"23":8,"24":8,"25":0,"26":8,"27":8,"28":3,"29":3,"30":3,"31":3,"32":5,"33":0,"34":1,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1},"f":{"0":2,"1":8,"2":0,"3":8,"4":0},"b":{"0":[1,1],"1":[2,2],"2":[3,5],"3":[0,8],"4":[8,8],"5":[3,5],"6":[8,3]},"inputSourceMap":{"version":3,"sources":["signup.controler.js"],"names":["Signup","req","res","firstName","lastName","email","role","password","body","oldUser","User","findOne","status","send","encryptedPassword","bcrypt","hash","user","create","toLowerCase","success","message","data","err","console","log","getAllUser","users","find","json","login","compare","_id","userdata","token","JSON","stringify","error","deleteUser","deleteOne","params","id"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEO,MAAMA,MAAM,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAkB;AACpC,MAAG;AACC,UAAK;AAACC,MAAAA,SAAD;AAAWC,MAAAA,QAAX;AAAoBC,MAAAA,KAApB;AAA0BC,MAAAA,IAA1B;AAA+BC,MAAAA;AAA/B,QAAyCN,GAAG,CAACO,IAAlD;AACA,UAAMC,OAAO,GAAE,MAAMC,gBAAKC,OAAL,CAAa;AAACN,MAAAA;AAAD,KAAb,CAArB;;AACA,QAAGI,OAAH,EAAW;AACP,aAAOP,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,kCAArB,CAAP;AACH;;AAED,UAAMC,iBAAiB,GAAE,MAAMC,gBAAOC,IAAP,CAAYT,QAAZ,EAAqB,EAArB,CAA/B;AAEA,UAAMU,IAAI,GAAE,MAAMP,gBAAKQ,MAAL,CAAY;AAC1Bf,MAAAA,SAD0B;AAE1BC,MAAAA,QAF0B;AAG1BC,MAAAA,KAAK,EAACA,KAAK,CAACc,WAAN,EAHoB;AAI1Bb,MAAAA,IAJ0B;AAK1BC,MAAAA,QAAQ,EAACO;AALiB,KAAZ,CAAlB;AAOAZ,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACO,MAAAA,OAAO,EAAC,IAAT;AAAcC,MAAAA,OAAO,EAAC,4BAAtB;AAAmDC,MAAAA,IAAI,EAACL;AAAxD,KAArB;AAEH,GAlBD,CAkBC,OAAMM,GAAN,EAAU;AACXC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACC;AACJ,CAtBM;;;;AA0BA,MAAMG,UAAU,GAAG,OAAOzB,GAAP,EAAYC,GAAZ,KAAoB;AAC1C,QAAMyB,KAAK,GAAE,MAAMjB,gBAAKkB,IAAL,EAAnB;AACA1B,EAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBiB,IAAhB,CAAqB;AAACT,IAAAA,OAAO,EAAE,IAAV;AAAgBE,IAAAA,IAAI,EAAEK;AAAtB,GAArB;AACH,CAHM;;;;AAMA,MAAMG,KAAK,GAAG,OAAO7B,GAAP,EAAYC,GAAZ,KAAkB;AACnC,MAAG;AACC;AACA,UAAM;AAACG,MAAAA,KAAD;AAAQE,MAAAA;AAAR,QAAkBN,GAAG,CAACO,IAA5B,CAFD,CAGC;;AACA,QAAG,EAAEH,KAAK,IAAEE,QAAT,CAAH,EAAsB;AACtBL,MAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACQ,QAAAA,OAAO,EAAC;AAAT,OAArB;AACC;;AACD,UAAMJ,IAAI,GAAC,MAAMP,gBAAKC,OAAL,CAAa;AAACN,MAAAA;AAAD,KAAb,CAAjB;;AACJ,QAAGY,IAAI,KAAK,MAAMF,gBAAOgB,OAAP,CAAexB,QAAf,EAAwBU,IAAI,CAACV,QAA7B,CAAX,CAAP,EACC;AACA,YAAM;AAAEyB,QAAAA,GAAF;AAAO7B,QAAAA,SAAP;AAAkBC,QAAAA,QAAlB;AAA4BE,QAAAA;AAA5B,UAAqCW,IAA3C;AACA,UAAIgB,QAAQ,GAAG;AACX9B,QAAAA,SAAS,EAAEc,IAAI,CAACd,SADL;AAEXC,QAAAA,QAAQ,EAAEa,IAAI,CAACb,QAFJ;AAGXC,QAAAA,KAAK,EAAEY,IAAI,CAACZ,KAHD;AAIXC,QAAAA,IAAI,EAAEW,IAAI,CAACX;AAJA,OAAf;AAQA,YAAM4B,KAAK,GAAG,oBAAUC,IAAI,CAACC,SAAL,CAAe;AAAEJ,QAAAA,GAAF;AAAO7B,QAAAA,SAAP;AAAkBC,QAAAA,QAAlB;AAA4BE,QAAAA,IAA5B;AAAkCD,QAAAA,KAAK,EAAEY,IAAI,CAACZ;AAA9C,OAAf,CAAV,CAAd;AACA,aAAOH,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBiB,IAAhB,CAAqB;AAAET,QAAAA,OAAO,EAAE,IAAX;AAAiBC,QAAAA,OAAO,EAAE,wBAA1B;AAAoDC,QAAAA,IAAI,EAAEW,QAA1D;AAAoEC,QAAAA;AAApE,OAArB,CAAP;AACA;;AAELhC,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACwB,MAAAA,KAAK,EAAC,IAAP;AAAYhB,MAAAA,OAAO,EAAC;AAApB,KAArB;AACS,GAxBL,CA0BA,OAAME,GAAN,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AAAkB;AACrB,CA7BM;;;;AA+BA,MAAMe,UAAU,GAAC,OAAOrC,GAAP,EAAYC,GAAZ,KAAoB;AAC3C,MAAI;AACH,UAAMQ,gBAAK6B,SAAL,CAAe;AAAEP,MAAAA,GAAG,EAAE/B,GAAG,CAACuC,MAAJ,CAAWC;AAAlB,KAAf,CAAN;AACAvC,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX,EAAgBiB,IAAhB,CAAqB;AAACT,MAAAA,OAAO,EAAE,IAAV;AAAgBE,MAAAA,IAAI,EAAE;AAAtB,KAArB;AACA,GAHD,CAGE,MAAM;AACPpB,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX;AACAV,IAAAA,GAAG,CAACW,IAAJ,CAAS;AAAEwB,MAAAA,KAAK,EAAE;AAAT,KAAT;AACA;AACD,CARM","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/controllers/","sourcesContent":["import bcrypt from \"bcryptjs/dist/bcrypt\";\nimport User from \"../database/model/signup\";\nimport { signToken} from \"../helpers/jwt\";\n\nexport const Signup = async (req, res)=>{\n    try{\n        const{firstName,lastName,email,role,password}=req.body;\n        const oldUser= await User.findOne({email});\n        if(oldUser){\n            return res.status(409).send(\"User Already Exist. Please Login\");\n        }\n\n        const encryptedPassword =await bcrypt.hash(password,10);\n\n        const user= await User.create({\n            firstName,\n            lastName,\n            email:email.toLowerCase(),\n            role,\n            password:encryptedPassword,\n        });\n        res.status(200).send({success:true,message:\"User Created Successfullys\",data:user});\n        \n    }catch(err){\n    console.log(err);\n    }\n}\n\n\n\nexport const getAllUser = async (req, res) => {\n    const users= await User.find();\n    res.status(200).json({success: true, data: users})\n}\n\n\nexport const login = async (req, res)=>{\n    try{\n        //Get user input\n        const {email, password}=req.body;\n        //validate if user exist in our database\n        if(!(email&&password)){\n        res.status(400).send({message:\"All input is required\"});\n        }\n        const user=await User.findOne({email});\n    if(user && (await bcrypt.compare(password,user.password))) \n     {\n     const { _id, firstName, lastName, role } = user;\n     let userdata = {\n         firstName: user.firstName,\n         lastName: user.lastName,\n         email: user.email,\n         role: user.role,\n \n     }\n    \n     const token = signToken(JSON.stringify({ _id, firstName, lastName, role, email: user.email }));\n     return res.status(200).json({ success: true, message: \"successfully logged in\", data: userdata, token })\n    }\n\nres.status(400).send({error:true,message:\"Invalid credentials\"});\n        }\n    \n    catch(err){\n    console.log(err);}\n}\n\nexport const deleteUser=async (req, res) => {\n\ttry {\n\t\tawait User.deleteOne({ _id: req.params.id })\n\t\tres.status(202).json({success: true, data: null})\n\t} catch {\n\t\tres.status(404)\n\t\tres.send({ error: \"User doesn't exist!\" })\n\t}\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4b3b6b5418ce8ca61c8575fcf45a7d8c14ab3397","contentHash":"3c705624a1ea2fd222c5236308ddc4361b4715719127535404bac27735205e03"},"/Users/andela/Desktop/capstone-backend/src/database/model/signup.js":{"path":"/Users/andela/Desktop/capstone-backend/src/database/model/signup.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":19},"end":{"line":34,"column":2}},"5":{"start":{"line":36,"column":13},"end":{"line":36,"column":56}},"6":{"start":{"line":38,"column":15},"end":{"line":38,"column":19}},"7":{"start":{"line":39,"column":0},"end":{"line":39,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["signup.js"],"names":["userSchema","mongoose","Schema","firstName","type","String","default","lastName","email","unique","role","password","token","User","model"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAE,IAAIC,kBAASC,MAAb,CAAoB;AACtCC,EAAAA,SAAS,EAAE;AAACC,IAAAA,IAAI,EAACC,MAAN;AAAcC,IAAAA,OAAO,EAAE;AAAvB,GAD2B;AAEtCC,EAAAA,QAAQ,EAAE;AAACH,IAAAA,IAAI,EAACC,MAAN;AAAcC,IAAAA,OAAO,EAAE;AAAvB,GAF4B;AAGtCE,EAAAA,KAAK,EAAC;AAACJ,IAAAA,IAAI,EAACC,MAAN;AAAcI,IAAAA,MAAM,EAAC;AAArB,GAHgC;AAItCC,EAAAA,IAAI,EAAC;AAACN,IAAAA,IAAI,EAACC;AAAN,GAJiC;AAKtCM,EAAAA,QAAQ,EAAC;AAACP,IAAAA,IAAI,EAACC;AAAN,GAL6B;AAMtCO,EAAAA,KAAK,EAAC;AAACR,IAAAA,IAAI,EAACC;AAAN;AANgC,CAApB,CAAlB;;AAUA,MAAMQ,IAAI,GAAEZ,kBAASa,KAAT,CAAe,MAAf,EAAuBd,UAAvB,CAAZ;;eACea,I","sourceRoot":"/Users/andela/Desktop/capstone-backend/src/database/model/","sourcesContent":["import mongoose from \"mongoose\";\n\nconst userSchema= new mongoose.Schema({\nfirstName: {type:String, default: null},\nlastName: {type:String, default: null},\nemail:{type:String, unique:true},\nrole:{type:String},\npassword:{type:String},\ntoken:{type:String},\n\n});\n\nconst User =mongoose.model('User', userSchema);\nexport default User;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4c84c3bf1f4d6e9eaa2c701cb2e321b2d019a8ef","contentHash":"269a27c72eb036df6fb5db297b6eb950966030fa60b3c39eb777e182d3ee0cbe"}}